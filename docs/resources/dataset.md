---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vpsadmin_dataset Resource - terraform-provider-vpsadmin"
subcategory: ""
description: |-
  Represents a ZFS dataset, either on NAS (Network-Attached Storage) or a VPS
  subdataset.
  NAS datasets can have quota, whereas VPS subdatasets use refquota
  attribute. NAS datasets can be exported over NFS using export_dataset
  and then mounted inside the container. VPS subdatasets are mounted using
  the vpsadmin_mount resource.
---

# vpsadmin_dataset (Resource)

Represents a ZFS dataset, either on NAS (Network-Attached Storage) or a VPS
subdataset.

NAS datasets can have *quota*, whereas VPS subdatasets use *refquota*
attribute. NAS datasets can be exported over NFS using *export_dataset*
and then mounted inside the container. VPS subdatasets are mounted using
the *vpsadmin_mount* resource.

## Example Usage

```terraform
# Create a dataset on NAS (Network-Attached Storage)
resource "vpsadmin_dataset" "nas-backups" {
  name = "nas/backups"

  # Quota in MiB
  quota = 100 * 1024

  # Export dataset over NFS
  export_dataset = true
}

# Create a subdataset in a VPS
resource "vpsadmin_vps" "my-vps" {
  location = "Praha"
  install_os_template = "ubuntu-20.04-x86_64-vpsadminos-minimal"
  cpu = 8
  memory = 4096
  diskspace = 60*1024
}

resource "vpsadmin_dataset" "my-subdataset" {
  name = "vps${vpsadmin_vps.my-vps.id}/my-subdataset"
  refquota = 20 * 1024
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) Dataset name

### Optional

- **export_dataset** (Boolean) Export dataset over NFS
- **export_enable** (Boolean) Enable the NFS server
- **export_read_write** (Boolean) Read-write access by default
- **export_root_squash** (Boolean) Enable root squash on the export
- **export_sync** (Boolean) Server will reply only after changes were committed
- **id** (String) The ID of this resource.
- **quota** (Number) Quota, in MiB
- **refquota** (Number) Reference quota, in MiB

### Read-Only

- **atime** (Boolean) Enabled atime
- **avail** (Number) Available space, in MiB
- **compression** (Boolean) Compression enabled
- **export_id** (Number) Export ID
- **export_ip_address** (String) IP address of the NFS server
- **export_path** (String) Path to mount from the NFS server
- **full_name** (String) Full dataset name
- **recordsize** (Number) Record size, in bytes
- **referenced** (Number) Referenced space, in MiB
- **relatime** (Boolean) Enabled relatime
- **sync** (String) Sync mode
- **used** (Number) Used space, in MiB

## Import

Import is supported using the following syntax:

```shell
terraform import vpsadmin_dataset.nas-backups $dataset_name
terraform import vpsadmin_dataset.nas-backups nas/backups
```
